---
description: Tracking changes since 0.73
icon: tag
---

# v0.74

{% hint style="warning" %}
This version is WIP.
{% endhint %}

0.74 is full of small details and refactors; moving things around and tackling some issues that have been bugging me as time goes by.&#x20;

## Major Tweaks

### Cell Processing

I've pushed a major refactor regarding how cells/contours are detected in clusters. This affects [find-contours.md](../node-library/pathfinding/contours/find-contours.md "mention"), [find-all-cells.md](../node-library/pathfinding/contours/find-all-cells.md "mention"), [find-all-cells-1.md](../node-library/pathfinding/contours/find-all-cells-1.md "mention") and [cluster-surface](../node-library/topology/cluster-surface/ "mention").&#x20;

<details>

<summary> But why?</summary>

The primary reason is that as I added Manhattan and Chebyshev voronoi modes, the topology of the generated cluster became slightly more complex and "rigid" with perfect orthogonal angles that created a LOT of false positive/negative in the existing cell detection code, and it was a mess. _It does naturally create problematic cells that require fusing despite the update_.

I lost of a lot of time trying to fix it without proper success so I ended up taking another more reliable approach entirely : I now build a [Doubly Connected Edge List](https://en.wikipedia.org/wiki/Doubly_connected_edge_list) from the clusters, which is infinitely more reliable than my previous angle-based approach.

</details>

This is an important one as <mark style="color:$warning;">it will break some of your existing settings</mark>; **specifically node count constraints** : the previous code was not counting properly (adding one to all counts), this is not true anymore. That means cell constraints with the old value will not return the same results now.

> For example to isolate quads, you had to use "5" — now it's "4".

Code has been optimized a lot as well and [find-contours.md](../node-library/pathfinding/contours/find-contours.md "mention")rules have changed a bit :

* **Seeds will only capture the cells that&#x20;**_**contains**_**&#x20;their position**, instead of "close enough".\
  &#xNAN;_&#x54;his more closely match functionality of the holes pin of Find All Cells._
* Seeds that are outside of any cells **can only capture the wrapper cell**.

### Data Matching

Data matching got an overhaul — I don't expect a lot of people have used those nodes because it's a fairly niche feature; but it plays a major role in helping reduce the need for loops in a bunch of nodes. The way it worked (and still works) is for most nodes that have "secondary" inputs that synergize with the main inputs (i.e [nearest-point.md](../node-library/sampling/nearest-point.md "mention")), [data-matching](../node-library/misc/data-matching/ "mention") lets you choose which secondary input can be "matched" with the processed ones.

There's new match nodes & tweaked ones:

* [shared-tag.md](../node-library/misc/data-matching/shared-tag.md "mention") now supports additional **Any** and **All**
* [overlap.md](../node-library/misc/data-matching/overlap.md "mention") is now fully implemented and supports recursion

The [merge-points-by-tag.md](../node-library/misc/merge-points-by-tag.md "mention") has been deprecated and instead its functionality has been migrated to [merge-points.md](../node-library/misc/merge-points.md "mention") by adding Data Matching support to it; with overall much greater flexibility.

<figure><img src="../.gitbook/assets/image (140).png" alt=""><figcaption></figcaption></figure>

### Sorting Rule

Not _major_ major but nice QoL, sorting rules can now **read values straight from tags** in the `tag:value` format. This was a necessary addition because of the above change; the old Merge Points by Tag had its own sort-by-tag logic which was nowhere else; and now it's available _everywhere_.

### Heuristics&#x20;

<figure><img src="../.gitbook/assets/image (141).png" alt=""><figcaption></figcaption></figure>

Slightly improved heuristics handling to squeeze some more speed (better caching and allocations etc.) with two new heuristics:

* [hx-turn-penalty.md](../node-library/pathfinding/heuristics/hx-turn-penalty.md "mention")\
  Penalize or favor turns in immediate search. _This is subtely different from_ [hx-inertia.md](../node-library/pathfinding/heuristics/hx-inertia.md "mention") _as the latter builds up on path direction._
* [hx-gradient.md](../node-library/pathfinding/heuristics/hx-gradient.md "mention")\
  Alternative to [hx-attribute.md](../node-library/pathfinding/heuristics/hx-attribute.md "mention") this one favors changes in values between neighbors

> This _should_ not affect existing results.

### Manhattan + Chebyshev

The voronoi 2D node now supports Manhattan and Chebyshev mode!

{% hint style="warning" %}
Due to the very unique topology of these graph, if you want to find cells you have to use [fuse-clusters.md](../node-library/clusters/fuse-clusters.md "mention") to find point/edge and edge/edge intersections; as some edge perfectly overlap and align, messing with my algorithms.
{% endhint %}

### Tensors Extrude Refactoring

Long overdue, I've been doing a lot of cleanup on the tensor side. A few optims, and a major overhaul of the [extrude-tensors.md](../node-library/tensors/extrude-tensors.md "mention") code to make it more maintable.

* Mutators now support a component-wise scale, so you can basically "flatten" effectors.
