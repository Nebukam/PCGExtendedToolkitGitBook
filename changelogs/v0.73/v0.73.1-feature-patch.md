---
description: Features patch
icon: tag
---

# v0.73.1 Feature Patch

## New Nodes

#### Clipper2 Integration!

I've been hard at work on embedding and interfacing with Clipper2 for all path-related operations. There's an obvious overlap with 5.7' Polygons 2D; but [offset.md](../../node-library/paths/offset.md "mention") has been really bad at dealing with self intersections so I wanted something that could work straight from points without the need for converting things to two-dimensional data; and with better preservation of data.&#x20;

Shoutout to James V who has been of great help with this; as he has tons of experience with Clipper2 .o/

> **Note that Clipper2 is geared toward working with closed shapes specifically**. Some feature will work fine with open paths, but some other can be janky.

### [Clipper2 : Offset](v0.73.1-feature-patch.md#clipper2-offset)&#x20;

{% hint style="info" %}
The offset node alone covers a lot of usecases, including Clipper2' "inflation".\
&#xNAN;_&#x49;t can be a bit weird to manipulate at times and requires some trial and error._
{% endhint %}

{% hint style="warning" %}
Not all join types survive well to the 3D extrapolation; sometimes I simply don't have enough information from Clipper2 to properly rebuild coordinates. `Round` is fairly stable and safe, and can mimic `Bevel` and `Square` when using an absurdly high arc tolerance! _But the X/Y value is still correct_.
{% endhint %}

<figure><img src="../../.gitbook/assets/image (8) (1).png" alt=""><figcaption></figcaption></figure>

### [Clipper2 : Boolean](v0.73.1-feature-patch.md#clipper2-boolean)

<figure><img src="../../.gitbook/assets/image (7) (1) (1).png" alt=""><figcaption></figcaption></figure>

There's support for:

* Union _(merging paths together)_
* Difference _(to remove paths from other paths)_
* XOR _(the opposite of difference : keep the overlapping areas)_

> I will look into some additional nodes such as ClipRect and constrained Delaunay triangulation.

## New Shapes

### [Shape : 3D Grid](../../node-library/misc/shapes/shape-3d-grid.md)

Long overdue, [shape-3d-grid.md](../../node-library/misc/shapes/shape-3d-grid.md "mention") is the PCGEx' shape equivalent of the PCG' `Create Point Grid`.

<figure><img src="../../.gitbook/assets/image (9) (1).png" alt=""><figcaption></figcaption></figure>

## New Probes

<figure><img src="../../.gitbook/assets/image (6) (1) (1).png" alt=""><figcaption><p>Gradient Flow using $Position.Z</p></figcaption></figure>

<figure><img src="../../.gitbook/assets/image (139).png" alt=""><figcaption></figcaption></figure>

I've added a new type of probes for [connect-points](../../node-library/clusters/connect-points/ "mention") that are "global" : instead of being processed per-point like before, some probes can now process input points in one go; allowing some more interesting stuff for the future. Those are still probes so they combine naturally with any other probes but **can generate entire diagrams on their own**.

* [g-probe-knn.md](../../node-library/clusters/connect-points/g-probe-knn.md "mention")&#x20;
* [g-probe-gradient-flow.md](../../node-library/clusters/connect-points/g-probe-gradient-flow.md "mention")

And the less useful but "canon"

* [g-probe-chain.md](../../node-library/clusters/connect-points/g-probe-chain.md "mention")
* [g-probe-hub-and-spoke.md](../../node-library/clusters/connect-points/g-probe-hub-and-spoke.md "mention")
* [g-probe-dbscan.md](../../node-library/clusters/connect-points/g-probe-dbscan.md "mention")
* [g-probe-level-set.md](../../node-library/clusters/connect-points/g-probe-level-set.md "mention")
* [g-probe-spanner.md](../../node-library/clusters/connect-points/g-probe-spanner.md "mention")
* [g-probe-theta.md](../../node-library/clusters/connect-points/g-probe-theta.md "mention")
* [g-probe-anisotropic.md](../../node-library/clusters/connect-points/g-probe-anisotropic.md "mention")

## Noise System

<figure><img src="../../.gitbook/assets/image (1) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

Something I feel has been missing from PCG is a proper 3D procedural noise ecosystem : no more!

This is CPU only; obviously it would've been more efficient on GPU but I really like the flexibility I get from those smaller ecosystems of node and features. _Obviously, not some noises are more expensive than others._

Check out the list of [noises](../../node-library/misc/noises/ "mention"), there's a bunch! (_probably more than necessary_)

### [Uber Noise](../../node-library/metadata/uber-noise.md)

A simple node that can write noise to an attribute.

<figure><img src="../../.gitbook/assets/image (1) (1) (1) (1).png" alt=""><figcaption><p>Note that at the time of writing, the "Mutate" mode isn't fully functional</p></figcaption></figure>

### [Filter : Noise](v0.73.1-feature-patch.md#filter-noise)

A simple numeric-compare-like filter that let you **test the value of the noise at the filtered point location**.

<figure><img src="../../.gitbook/assets/image (3) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>



### [Tensor : Noise](../../node-library/tensors/effectors/tensor-noise.md) + [Tensor : Noise (Bounded)](../../node-library/tensors/effectors/tensor-noise-bounded.md)

Obvious usecase for 3D noises : tensors!&#x20;

There's 2 new tensors leveraging them : one that's "infinite" and another that limit node influence within point effector ranges.

<div><figure><img src="../../.gitbook/assets/image (4) (1) (1) (1).png" alt=""><figcaption></figcaption></figure> <figure><img src="../../.gitbook/assets/image (5) (1) (1) (1).png" alt=""><figcaption></figcaption></figure></div>

## Tweaks

* New Search algorithms for pathfinding
  * [Bidirectional](../../node-library/pathfinding/search-algorithms/bidirectional.md) _(faster with very large graphs)_
  * [Bellman-Ford](../../node-library/pathfinding/search-algorithms/bellman-ford.md) _(slower but better handling of negative weights when using raw_ [hx-attribute.md](../../node-library/pathfinding/heuristics/hx-attribute.md "mention")_)_
* New distance mode for samplers & nodes that expose distance settings
  * Euclidian _(default)_
  * Manhattan
  * Chebyshev
* Small optimizations
